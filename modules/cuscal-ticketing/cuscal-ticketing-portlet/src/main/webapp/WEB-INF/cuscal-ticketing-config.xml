<?xml version="1.0"?>

<beans xmlns="http://www.springframework.org/schema/beans" xmlns:cache="http://www.springframework.org/schema/cache" xmlns:context="http://www.springframework.org/schema/context" xmlns:p="http://www.springframework.org/schema/p" xmlns:util="http://www.springframework.org/schema/util" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.springframework.org/schema/beans         http://www.springframework.org/schema/beans/spring-beans.xsd         http://www.springframework.org/schema/context         http://www.springframework.org/schema/context/spring-context.xsd         http://www.springframework.org/schema/util         http://www.springframework.org/schema/util/spring-util.xsd         http://www.springframework.org/schema/cache          http://www.springframework.org/schema/cache/spring-cache.xsd">
	<import resource="applicationContext.xml"></import>
	<cache:annotation-driven></cache:annotation-driven>
	<context:component-scan base-package="au.com.cuscal"></context:component-scan>
<!--	<bean class="au.com.cuscal.framework.webservices.client.impl.CustomerSelfServiceServiceImpl" id="ticketingService"></bean>-->
<!--	<bean class="au.com.cuscal.framework.webservices.client.impl.ReportsServiceImpl" id="reportsService"></bean>-->
<!--	<bean class="au.com.cuscal.framework.webservices.client.impl.EntityServiceImpl" id="entityService"></bean>-->
<!--	<bean class="au.com.cuscal.framework.webservices.client.impl.CardServiceImpl" id="cardService"></bean>-->
<!--	<bean class="au.com.cuscal.ticketing.services.CuscalTicketingServiceImpl" id="cuscalTicketingService">-->
<!--		<property name="ticketingService" ref="ticketingService"></property>-->
		<!--<property name="reportsService" ref="reportsService" />-->
<!--		<property name="entityService" ref="entityService"></property>-->
<!--		<property name="cardService" ref="cardService"></property>-->
<!--	</bean>-->
	<bean class="au.com.cuscal.ticketing.controller.CuscalTicketingController" id="cuscalTicketingController">
		<property name="orgIdOverride" value="${organisation.id.override}" />
		<!--<property name="maxFileAttachment" value="${max.file.attachments}" />
		<property name="maxFileAttachmentSize" value="${max.file.attachment.size}" />-->
	</bean>
	<bean class="org.springframework.web.servlet.view.InternalResourceViewResolver" id="viewResolver">
		<property name="viewClass" value="com.liferay.portletmvc4spring.PortletJstlView"></property>
		<property name="prefix" value="/WEB-INF/jsp/"></property>
		<property name="suffix" value=".jsp"></property>
	</bean>
	<bean class="org.springframework.context.support.ResourceBundleMessageSource" id="messageSource">
		<property name="basenames">
			<list>
				<value>content.messages</value>
			</list>
		</property>
	</bean>
	<!-- This is for file uploading -->
	<bean class="com.liferay.portletmvc4spring.multipart.CommonsPortletMultipartResolver" id="portletMultipartResolver">
		<property name="maxUploadSize">
			<value>5242880</value>
			<!-- Set to 5MB -->
		</property>
	</bean>
	<bean class="org.springframework.beans.factory.config.PropertyPlaceholderConfigurer" id="configurationPropertyConfigurer">
		<property name="locations">
			<list>
				<value>file:${catalina.home}/../property-files/self-service/self-service.properties</value>
				<value>file:${catalina.home}/../property-files/webservice.properties</value>
			</list>
		</property>
	</bean>
	<bean class="org.springframework.cache.support.SimpleCacheManager" id="cacheManager">
		<property name="caches">
			<set>
				<bean class="org.springframework.cache.concurrent.ConcurrentMapCacheFactoryBean" p:name="productList"></bean>
				<bean class="org.springframework.cache.concurrent.ConcurrentMapCacheFactoryBean" p:name="ticketStatusList"></bean>
				<!--<bean class="org.springframework.cache.concurrent.ConcurrentCacheFactoryBean" p:name="typeList" />-->
			</set>
		</property>
	</bean>
</beans>